# 音乐系统使用指南

## 功能概述

游戏内置了背景音乐播放系统，会根据不同的游戏界面自动播放相应的背景音乐：

- **开始界面**: 播放 `assets/sounds/background/index/` 目录下的音乐
- **游戏界面**: 随机播放 `assets/sounds/background/main1/` 目录下的音乐

## 音乐控制

### 键盘快捷键

- **M键**: 暂停/恢复音乐播放
- **逗号键(,)**: 降低音量
- **句号键(.)**: 提高音量  
- **N键**: 停止音乐播放

### 自动播放

- 进入开始界面时自动播放开始界面音乐
- 进入游戏界面时自动切换到游戏音乐
- 音乐播放完毕后自动播放下一首
- 游戏音乐采用随机播放顺序

## 音乐文件要求

- 支持的格式: `.wav`, `.mp3`, `.ogg`
- 音频文件需放置在对应目录下
- 系统会自动扫描目录中的所有音频文件

## 音量设置

- 默认音量: 50%
- 音量范围: 0% - 100%
- 每次调节幅度: 10%

## 故障排除

### 音乐无法播放
1. 检查音频文件是否存在于指定目录
2. 确认音频文件格式是否支持
3. 检查pygame音频系统是否正常初始化

### 音乐切换异常
1. 音乐系统使用独立的事件处理，避免与游戏逻辑冲突
2. 场景切换时会自动切换对应的音乐
3. 重复切换到同一场景不会重新播放音乐

## 技术说明

- 音乐系统使用pygame.mixer模块
- 采用事件驱动的音乐切换机制
- 支持循环播放和随机播放
- 独立的音乐事件ID，避免与游戏逻辑冲突 